# WeatherWear - Интеллектуальный сервис прогноза погоды с рекомендациями по одежде

WeatherWear - это современное веб-приложение, предоставляющее не только подробный прогноз погоды, но и персонализированные рекомендации по выбору одежды в зависимости от погодных условий и планируемой активности.

![Weather & Clothing](/public/images/logo.png)

## Особенности

- **Интерактивная карта погоды** - просматривайте различные метеорологические данные на карте
- **Информативные прогнозы** - детальный прогноз с оценкой комфортности и особых погодных условий
- **Персонализированные рекомендации** - подбор одежды с учетом типа активности и погодных условий
- **Мультипараметрический анализ** - учет температуры, ветра, осадков и других факторов
- **Поиск городов** - быстрый поиск по названию населенных пунктов
- **Сравнение погоды** - сопоставление погодных условий в разных городах
- **Определение местоположения** - автоматическое определение вашего местонахождения
- **Адаптивный дизайн** - оптимальное отображение на мобильных устройствах, планшетах и десктопе
- **Темная и светлая темы** - комфортное использование в любое время суток

## Интерактивная карта погоды

В приложении реализована интерактивная карта с различными слоями данных:

- **Температура** - отображение температуры воздуха по цветовой шкале
- **Осадки** - визуализация интенсивности осадков
- **Облачность** - процент облачного покрова
- **Ветер** - направление и скорость ветра
- **Давление** - атмосферное давление

**Функциональные возможности карты:**
- Просмотр погоды в любой точке по клику на карту
- Определение текущего местоположения
- Информационные панели с подробными данными
- Масштабирование и навигация

## Технологии

### Frontend
- **Next.js 15** - React-фреймворк с рендерингом на стороне сервера
- **TypeScript** - Типизация кода
- **Tailwind CSS** - Утилитарный CSS-фреймворк
- **shadcn/ui** - Компонентная библиотека на основе Radix UI
- **Lucide** - Иконки высокого качества
- **OpenLayers** - Библиотека для создания интерактивных карт
- **Bun** - JavaScript runtime с повышенной производительностью

### Backend
- **FastAPI / Fastify** - Современные backend-фреймворки для API
- **OpenWeather API** - Источник данных о погоде
- **Python / Node.js** - Серверные языки программирования

## Запуск проекта

### Запуск с использованием скрипта

Самый простой способ запустить проект - использовать готовый скрипт `run.sh`:

```bash
chmod +x run.sh
./run.sh
```

Скрипт автоматически установит зависимости, создаст необходимые файлы конфигурации и запустит frontend и backend.

### Ручной запуск

1. Установите зависимости для frontend:

```bash
bun install
```

2. Создайте файл `.env.local` в корне проекта:

```
NEXT_PUBLIC_API_URL=http://localhost:3001
```

3. Запустите backend:

```bash
cd backend
bun add fastify @fastify/cors node-fetch
bun run server.js
```

4. В отдельном терминале запустите frontend:

```bash
bun run dev
```

5. Откройте [http://localhost:3000](http://localhost:3000) в вашем браузере.

## Запуск в WebStorm

1. Откройте проект в WebStorm, выбрав директорию проекта.

2. Настройка запуска Backend:
   - Нажмите на кнопку "Add Configuration" в верхнем правом углу.
   - Нажмите "+" и выберите "Node.js".
   - Настройте конфигурацию:
     - Name: "Backend Server"
     - Node interpreter: выберите Bun или Node.js
     - JavaScript file: укажите путь к `backend/server.js`
     - Working directory: укажите путь к директории `backend`
   - Нажмите "OK" для сохранения конфигурации.

3. Настройка запуска Frontend:
   - Нажмите "+" в окне конфигураций и выберите "npm".
   - Настройте конфигурацию:
     - Name: "Frontend Dev Server"
     - package.json: укажите путь к файлу package.json в корне проекта
     - Command: "run"
     - Scripts: "dev"
   - Нажмите "OK" для сохранения конфигурации.

4. Запуск проекта:
   - Сначала запустите "Backend Server" нажатием на зеленую стрелку.
   - Затем запустите "Frontend Dev Server" таким же образом.
   - Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## API Интеграция

Приложение использует OpenWeather API для получения данных о погоде. API-ключ уже настроен в проекте, но вы можете заменить его на свой.

### Получение API-ключа OpenWeather

1. Зарегистрируйтесь на сайте [OpenWeather](https://home.openweathermap.org/users/sign_up).
2. После регистрации перейдите в раздел API keys: [https://home.openweathermap.org/api_keys](https://home.openweathermap.org/api_keys).
3. Скопируйте ваш API-ключ и замените им текущий в файлах:
   - `backend/.env` (параметр OPENWEATHER_API_KEY)
   - `backend/server.js` (переменная apiKey)

## Структура проекта

```
weatherwear/
├── backend/               # Исходный код бэкенда
│   ├── api/               # API-клиенты для внешних сервисов
│   ├── app/               # FastAPI-приложение и роутеры
│   └── services/          # Бизнес-логика и сервисы
├── public/                # Статические файлы
├── src/                   # Исходный код фронтенда
│   ├── app/               # Страницы Next.js и API-роуты
│   │   ├── api/           # API-эндпоинты
│   │   ├── map/           # Страница интерактивной карты
│   │   └── weather/       # Страницы с прогнозами погоды
│   ├── components/        # React-компоненты
│   │   ├── ui/            # UI-компоненты (карточки, кнопки и т.д.)
│   │   └── weather-map.tsx # Компонент интерактивной карты
│   ├── config/            # Константы и конфигурации
│   ├── lib/               # Утилиты и хелперы
│   ├── providers/         # Контекст-провайдеры React
│   └── types/             # TypeScript типы
└── docker-compose.yml     # Настройка Docker для разработки
```

## Лицензия

MIT
